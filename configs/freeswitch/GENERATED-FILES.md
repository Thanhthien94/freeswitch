# Generated FreeSWITCH Configuration Files

This directory contains FreeSWITCH configuration files that are automatically generated by the backend system. These files should **NOT** be committed to version control as they are dynamically created from database content.

## 🚫 **Files Excluded from Git**

### **Generated Configuration Files:**
- `autoload_configs/vars.xml` - Network configuration from database
- `sip_profiles/internal.xml` - Internal SIP profile configuration
- `sip_profiles/external.xml` - External SIP profile configuration  
- `sip_profiles/internal-ipv6.xml` - IPv6 internal profile
- `sip_profiles/external-ipv6.xml` - IPv6 external profile

### **Generated Directory Files:**
- `directory/*.xml` - Domain configuration files
- `directory/**/*.xml` - User extension files
- All user extension XML files are generated from database

### **Generated Dialplan Files:**
- `dialplan/default/*.xml` - Default context routing rules
- `dialplan/public/*.xml` - Public context routing rules

### **Generated IVR Files:**
- `ivr_menus/*.xml` - IVR menu configurations from database

## ✅ **Template Files (Kept in Git)**

Template and example files are kept in version control:
- `*.xml.example` - Example configuration files
- `*.xml.template` - Template files for reference
- Static configuration files that don't change

## 🔄 **How Generation Works**

1. **Backend Services** read configuration from PostgreSQL database
2. **XML Generator Service** creates FreeSWITCH-compatible XML files
3. **Config Apply Service** writes files to FreeSWITCH config directory
4. **FreeSWITCH** automatically reloads configuration

## 📝 **Development Notes**

- Never manually edit generated XML files - changes will be overwritten
- Use the web interface or API to modify configurations
- Generated files are recreated on every configuration change
- Template files can be used as reference for manual configurations

## 🛠️ **Regenerating Files**

To regenerate all configuration files:

```bash
# Via API
curl -X POST http://localhost:3000/api/v1/freeswitch/config/apply

# Via web interface
# Go to System → Configuration → Apply Changes
```

## 📁 **Directory Structure**

```
configs/freeswitch/
├── autoload_configs/
│   ├── vars.xml                    # Generated (ignored)
│   └── *.conf.xml                  # Static configs (tracked)
├── directory/
│   ├── *.xml                       # Generated domains (ignored)
│   └── **/*.xml                    # Generated users (ignored)
├── dialplan/
│   ├── default/*.xml               # Generated routes (ignored)
│   └── public/*.xml                # Generated routes (ignored)
├── sip_profiles/
│   ├── internal.xml                # Generated (ignored)
│   ├── external.xml                # Generated (ignored)
│   └── */example.xml               # Static examples (tracked)
└── ivr_menus/
    ├── *.xml                       # Generated menus (ignored)
    └── *.xml.example               # Templates (tracked)
```

---

**⚠️ Important:** Always use the web interface or API to modify FreeSWITCH configurations. Direct file editing will be overwritten by the next configuration sync.
